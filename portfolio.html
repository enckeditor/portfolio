<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Portfólio de Editor de Vídeo</title>
    <!-- Adiciona a fonte Inter do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Inclui a CDN do Tailwind CSS para estilização -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* Estilos para o modal de vídeo */
        .modal {
            background-color: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(8px);
            z-index: 100;
        }
        .modal-content {
            animation: fadeIn 0.3s ease-out;
        }
        .video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 0.5rem;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<!-- Aplica o gradiente a todo o corpo da página -->
<body class="bg-gradient-to-r from-gray-950 to-indigo-950 text-gray-200">

    <!-- Modal para o vídeo -->
    <div id="video-modal" class="fixed inset-0 hidden flex items-center justify-center p-4 modal">
        <div class="bg-gray-900 rounded-xl shadow-2xl p-6 w-full max-w-4xl modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-video-title" class="text-3xl font-bold text-white">Título do Projeto</h3>
                <button id="close-modal" class="text-gray-400 hover:text-white transition-colors duration-200 text-3xl font-bold">&times;</button>
            </div>
            <div class="video-container mb-4">
                <iframe id="modal-video-frame" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <p id="modal-video-description" class="text-gray-300"></p>
        </div>
    </div>

    <!-- Mensagem de notificação personalizada -->
    <div id="custom-alert" class="fixed top-4 right-4 bg-indigo-600 text-white px-6 py-3 rounded-full shadow-lg transition-transform duration-300 transform translate-x-full">
        <!-- O conteúdo será adicionado via JS -->
    </div>

    <!-- Navegação Superior -->
    <header class="bg-gray-900 p-4 sticky top-0 z-50 shadow-lg">
        <nav class="container mx-auto flex justify-between items-center">
            <a href="#home" class="text-2xl font-bold text-indigo-400">Enck</a>
            <ul class="flex space-x-6">
                <!-- Botões com retângulo arredondado -->
                <li><a href="#home" class="text-gray-300 hover:text-indigo-400 hover:bg-indigo-900 px-4 py-2 rounded-full transition-all duration-300">Início</a></li>
                <li><a href="#sobre" class="text-gray-300 hover:text-indigo-400 hover:bg-indigo-900 px-4 py-2 rounded-full transition-all duration-300">Sobre</a></li>
                <li><a href="#software" class="text-gray-300 hover:text-indigo-400 hover:bg-indigo-900 px-4 py-2 rounded-full transition-all duration-300">Software</a></li>
                <li><a href="#habilidades" class="text-gray-300 hover:text-indigo-400 hover:bg-indigo-900 px-4 py-2 rounded-full transition-all duration-300">Habilidades</a></li>
                <li><a href="#portfolio" class="text-gray-300 hover:text-indigo-400 hover:bg-indigo-900 px-4 py-2 rounded-full transition-all duration-300">Projetos</a></li>
                <li><a href="#contato" class="text-gray-300 hover:text-indigo-400 hover:bg-indigo-900 px-4 py-2 rounded-full transition-all duration-300">Contato</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Seção de Início (Hero) -->
        <section id="home" class="flex flex-col items-center justify-center min-h-screen text-center p-8">
            <div class="bg-gray-950 bg-opacity-70 p-12 rounded-2xl shadow-xl space-y-4 max-w-3xl transform transition-transform duration-500 hover:scale-105">
                <h1 class="text-6xl md:text-8xl font-extrabold text-white leading-tight">Fala ae, eu sou o <span class="text-indigo-400">Enck</span></h1>
                <p class="text-xl md:text-3xl text-gray-300 font-semibold">Editor de Vídeo</p>
                <a href="#portfolio" class="inline-block mt-8 px-10 py-4 bg-indigo-600 text-white font-bold rounded-full shadow-lg hover:bg-indigo-700 transition-colors duration-300 transform hover:scale-105">Ver Meu Trabalho</a>
            </div>
        </section>

        <!-- Seção Sobre Mim -->
        <section id="sobre" class="container mx-auto py-20 px-4">
            <!-- Removido bg-gray-900 para que o gradiente da página apareça -->
            <div class="rounded-2xl p-12 shadow-lg bg-gray-900 bg-opacity-70">
                <h2 class="text-5xl font-extrabold text-center mb-12 text-white">Sobre Mim</h2>
                <div class="flex flex-col md:flex-row items-center md:items-start gap-12">
                    <!-- A tag img já existe, mas o texto do placeholder foi alterado -->
                    <img src="https://static.wikia.nocookie.net/vinlandsaga/images/7/7c/ThorfinnVinlandArc2.jpeg/revision/latest?cb=20240613153044" alt="Foto de perfil" class="w-48 h-48 rounded-full object-cover shadow-xl border-4 border-indigo-400">
                    <div class="w-full">
                        <p id="biography-text" class="text-lg text-gray-300 leading-relaxed mb-6">
                            Sempre fui fascinado pelo universo da criação de conteúdo online, e essa paixão me acompanha desde a infância. Cresci com a internet e, ao longo dos anos, tive meus próprios canais no YouTube. Essa jornada me permitiu entender a fundo as dinâmicas da criação de conteúdo, das mais diversas formas. Por essa vivência, me tornei um editor de vídeos versátil, capaz de transitar por diferentes estilos de forma fluida. Posso ir de um vídeo de narração de anime para uma gameplay ou até mesmo para um vlog mais pessoal, sem perder a essência de cada formato. Minha paixão é transformar ideias em vídeos que cativam, não importa o gênero. Embora eu tenha focado na criação de conteúdo para meus próprios canais, agora estou focado em aplicar minha experiência para ajudar outros criadores a transformar suas ideias em vídeos incríveis. Estou sempre me aprimorando e pronto para novos desafios.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Nova Seção de Software de Edição -->
        <section id="software" class="container mx-auto py-20 px-4">
            <!-- Removido bg-gray-900 para que o gradiente da página apareça -->
            <div class="rounded-2xl p-12 bg-gray-900 bg-opacity-70">
                <h2 class="text-5xl font-extrabold text-center mb-12 text-white">Software de Edição</h2>
                <!-- Imagem do DaVinci Resolve adicionada aqui -->
                <div class="flex justify-center mb-8">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/4d/DaVinci_Resolve_Studio.png" alt="Logo do DaVinci Resolve" class="w-24 h-24 object-contain">
                </div>
                <p class="text-lg text-gray-300 leading-relaxed text-center max-w-3xl mx-auto">
                    Já trabalhei por muito tempo com o Vegas, mas hoje, meu software de edição principal é o DaVinci Resolve. Esta transição me permitiu explorar ferramentas mais avançadas e aprimorar meu fluxo de trabalho.
                </p>
            </div>
        </section>

        <!-- Seção de Habilidades -->
        <section id="habilidades" class="container mx-auto py-20 px-4">
            <h2 class="text-5xl font-extrabold text-center mb-16 text-white">Minhas Habilidades</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Habilidade 1: Decupagem -->
                <div class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105">
                    <svg class="mx-auto mb-4 w-16 h-16 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 14v4a2 2 0 002 2h14a2 2 0 002-2v-4M8 10l4-4 4 4M12 16V6"></path></svg>
                    <h3 class="text-2xl font-bold text-white mb-2">Decupagem</h3>
                    <p class="text-gray-400">Seleção e organização de tomadas para criar a narrativa ideal e fluidez no vídeo.</p>
                </div>
                <!-- Habilidade 2: Zoom Dinâmico -->
                <div class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105">
                    <svg class="mx-auto mb-4 w-16 h-16 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                    <h3 class="text-2xl font-bold text-white mb-2">Zoom Dinâmico</h3>
                    <p class="text-gray-400">Uso estratégico de zooms e cortes para dar energia e focar a atenção do espectador.</p>
                </div>
                <!-- Habilidade 3: Narrativa Visual -->
                <div class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105">
                    <svg class="mx-auto mb-4 w-16 h-16 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9zM19 12a7 7 0 10-14 0 7 7 0 0014 0zM19 12a7 7 0 10-14 0 7 7 0 0014 0z"></path></svg>
                    <h3 class="text-2xl font-bold text-white mb-2">Narrativa Visual</h3>
                    <p class="text-gray-400">Construção de histórias envolventes através do arranjo e sequência de cenas.</p>
                </div>
                <!-- Habilidade 4: Montagem e Ritmo -->
                <div class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105">
                    <svg class="mx-auto mb-4 w-16 h-16 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18H3a2 2 0 01-2-2V8a2 2 0 012-2h3.931A2 2 0 017 5.071v13.858a2 2 0 01-1.069.929H5zm10-2l-5.045 2.523A1 1 0 019 18.618V6.382a1 1 0 011.447-.894L15 8"></path></svg>
                    <h3 class="text-2xl font-bold text-white mb-2">Montagem e Ritmo</h3>
                    <p class="text-gray-400">Aplicação de cortes e transições para ditar o ritmo e a emoção do vídeo.</p>
                </div>
            </div>
        </section>

        <!-- Seção de Portfólio -->
        <section id="portfolio" class="container mx-auto py-20 px-4">
            <h2 class="text-5xl font-extrabold text-center mb-16 text-white">Projetos</h2>
            
            <!-- Projetos de Vídeos Longos -->
            <div class="mb-12">
                <h3 class="text-4xl font-bold text-white mb-8 border-b-2 border-indigo-400 pb-2">Vídeos Longos</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Projeto 1 (Revertido para o original) -->
                    <div class="project-card bg-gray-900 rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"
                        data-video-url="https://www.youtube.com/embed/NBvLbMds3Pg"
                        data-title="O Amado pelo mundo vs o Odiado pelo Mundo | Re:Zero Arco 9 (Zenny)"
                        data-keywords="Re:Zero, anime, análise, arco 9, Reinhard, Aldebaran, Zenny"
                        data-description='Reinhard se torna o muro para impedir o avanço da missão de Aldebaran, junto ao "Alcanica" ambos seguem em direção um lugar desconhecido, depois de se tornar o inimigo do mundo, Aldebaran agora vai ter que passar pelo homem que é amado pelo mundo'>
                        <img src="https://img.youtube.com/vi/NBvLbMds3Pg/hqdefault.jpg" alt="Thumbnail do vídeo de Re:Zero do canal Zenny" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white">O Amado pelo mundo vs o Odiado pelo Mundo | Re:Zero Arco 9 (Zenny)</h3>
                            <p class="text-gray-400">Reinhard se torna o muro para impedir o avanço de Aldebaran. Clique para ver!</p>
                        </div>
                    </div>

                    <!-- Projeto 2 (Novo vídeo) -->
                    <div class="project-card bg-gray-900 rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"
                        data-video-url="https://www.youtube.com/embed/7TF7q8UdcK8"
                        data-title="A Estratégia de Valga Cromwell | Re:Zero Arco 9"
                        data-keywords="Re:Zero, análise, arco 9, Valga Cromwell, Aldebaran, estratégia, batalha de intelectos"
                        data-description="Velho Rom, também conhecido como Valga Cromwell, esta pouco a pouco encurralando o Aldebaran, no maior capitulo do arco 9, uma batalha de intelectos que definiria o rumo do resto do arco é travada">
                        <img src="https://img.youtube.com/vi/7TF7q8UdcK8/hqdefault.jpg" alt="Thumbnail do vídeo de Re:Zero do canal Zenny" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white">A Estratégia de Valga Cromwell | Re:Zero Arco 9</h3>
                            <p class="text-gray-400">Batalha de intelectos entre Valga Cromwell e Aldebaran. Clique para ver!</p>
                        </div>
                    </div>
                    
                    <!-- Projeto 3 (Placeholder) -->
                    <div class="project-card bg-gray-900 rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"
                        data-video-url="https://www.youtube.com/embed/0ZaFyhCiqAI"
                        data-title="Revelaram a VERDADEIRA Identidade do Aldebaran? Não. | Teorias Arco 9"
                        data-keywords="conteúdo para redes sociais, animações, transições, vídeo para instagram, youtube shorts">
                        <img src="https://img.youtube.com/vi/0ZaFyhCiqAI/hqdefault.jpg" alt="Thumbnail do Projeto 3" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white">Revelaram a VERDADEIRA Identidade do Aldebaran? Não. | Teorias Arco 9 (Zenny)</h3>
                            <p class="text-gray-400">Da uma olhada nesse vídeo. Clique para ver e saber mais!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Projetos de Vídeos Curtos (Shorts) -->
            <div>
                <h3 class="text-4xl font-bold text-white mb-8 border-b-2 border-indigo-400 pb-2">Vídeos Curtos (Shorts)</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Short 1 - REVERTIDO PARA O ORIGINAL -->
                    <div class="project-card bg-gray-900 rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"
                        data-video-url="https://www.youtube.com/embed/YBN_CFX9ibM"
                        data-title="Os 10 Melhores Jogos de Luta da História Segundo os Críticos"
                        data-keywords="jogos de luta, melhores jogos, top 10, análise, crítica"
                        data-description="Análise dos 10 melhores jogos de luta de todos os tempos, com base na opinião de críticos especializados no assunto.">
                        <img src="https://img.youtube.com/vi/YBN_CFX9ibM/hqdefault.jpg" alt="Thumbnail dos 10 Melhores Jogos de Luta" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white">Os 10 Melhores Jogos de Luta da História Segundo os Críticos</h3>
                            <p class="text-gray-400">Análise dos melhores jogos de luta. Clique para ver!</p>
                        </div>
                    </div>

                    <!-- Short 2 -->
                    <div class="project-card bg-gray-900 rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"
                        data-video-url="https://www.youtube.com/embed/yp2fYoi9S7Q"
                        data-title="CONFIRMADO os SERVIDORES BRASILEIROS NO ROBLOX!"
                        data-keywords="short, reels, tiktok, animação, design de som">
                        <img src="https://img.youtube.com/vi/yp2fYoi9S7Q/hqdefault.jpg" alt="Thumbnail do Short 2" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white">CONFIRMADO os SERVIDORES BRASILEIROS NO ROBLOX!</h3>
                            <p class="text-gray-400">Exemplo de animação rápida para vídeos curtos. Clica aí pra ver!</p>
                        </div>
                    </div>
                    
                    <!-- Short 3 -->
                    <div class="project-card bg-gray-900 rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer"
                        data-video-url="https://www.youtube.com/embed/y3-2-CHL9rc"
                        data-title="o GTA 6 foi ADIADO para 2026!  "
                        data-keywords="short, tiktok, reels, vlogs, edição dinâmica">
                        <img src="https://img.youtube.com/vi/y3-2-CHL9rc/hqdefault.jpg" alt="Thumbnail do Short 3" class="w-full h-auto object-cover">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white">o GTA 6 foi ADIADO para 2026!  </h3>
                            <p class="text-gray-400">Exemplo de edição para vídeos de noticias com humor em formato vertical. Clica ai pra ver!</p>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- Seção de Contato -->
        <section id="contato" class="container mx-auto py-20 px-4">
            <h2 class="text-5xl font-extrabold text-center mb-12 text-white">Entre em Contato</h2>
            <!-- Mensagem de introdução para contato -->
            <div class="rounded-2xl p-8 shadow-lg text-center mb-12 bg-gray-900 bg-opacity-70 max-w-2xl mx-auto">
                <p class="text-lg text-gray-300 leading-relaxed">
                    Bora conversar! Se você se identificou com meu trabalho e acha que a gente pode criar algo massa juntos, é só me mandar uma mensagem! Adoraria saber mais sobre seus projetos e como minha paixão por edição pode dar vida às suas ideias.
                </p>
            </div>
            <!-- Div com layout flexível para acomodar os 3 cards de forma centralizada -->
            <div class="grid md:grid-cols-3 gap-8 max-w-4xl mx-auto">
                <!-- Contato E-mail -->
                <div class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105">
                    <img src="https://www.freeiconspng.com/thumbs/email-icon/email-icon--clipart-best-22.png" alt="Ícone de E-mail" class="mx-auto mb-4 w-16 h-16">
                    <h3 class="text-2xl font-bold text-white mb-2">E-mail</h3>
                    <p class="text-indigo-400 text-lg font-semibold">enck680@gmail.com</p>
                </div>
                <!-- Contato Discord -->
                <a href="https://discord.com/users/305119010654257152" target="_blank" rel="noopener noreferrer" class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105 cursor-pointer">
                    <!-- O link acima é um placeholder. Para obter seu ID de usuário, ative o Modo Desenvolvedor nas configurações do Discord. Clique com o botão direito no seu perfil e selecione "Copiar ID do Usuário". Depois, substitua "SEU_ID_AQUI" pelo ID copiado. -->
                    <img src="https://logodownload.org/wp-content/uploads/2017/11/discord-logo-1-1.png" alt="Ícone do Discord" class="mx-auto mb-4 w-16 h-16">
                    <h3 class="text-2xl font-bold text-white mb-2">Discord</h3>
                    <p class="text-indigo-400 text-lg font-semibold">enck</p>
                </a>
                 <!-- Contato Telegram -->
                <a href="https://t.me/enck_editor" target="_blank" rel="noopener noreferrer" class="bg-gray-900 rounded-xl p-8 text-center shadow-lg transform transition-transform duration-300 hover:scale-105 cursor-pointer">
                    <!-- Substitua "seu_usuario_aqui" pelo seu nome de usuário do Telegram (sem o '@') -->
                    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Ícone do Telegram" class="mx-auto mb-4 w-16 h-16">
                    <h3 class="text-2xl font-bold text-white mb-2">Telegram</h3>
                    <p class="text-indigo-400 text-lg font-semibold">@enck_editor</p>
                </a>
            </div>
        </section>
    </main>

    <!-- Rodapé -->
    <footer class="p-8 text-center text-gray-500 bg-gray-900 bg-opacity-70">
        <p>&copy; 2025 Enck. Todos os direitos reservados.</p>
    </footer>

    <!-- Script para Rolagem Suave e Modal de Vídeo -->
    <script>
        // Lógica de rolagem suave
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // ==========================================================
        // Funcionalidades com a API do Gemini
        // ==========================================================
        
        // Elementos da UI
        const customAlert = document.getElementById('custom-alert');
        const projectCards = document.querySelectorAll('.project-card');
        const videoModal = document.getElementById('video-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const modalVideoFrame = document.getElementById('modal-video-frame');
        const modalVideoTitle = document.getElementById('modal-video-title');
        const modalVideoDescription = document.getElementById('modal-video-description');

        // Função para mostrar um alerta personalizado
        const showAlert = (message) => {
            customAlert.textContent = message;
            customAlert.classList.remove('translate-x-full');
            setTimeout(() => {
                customAlert.classList.add('translate-x-full');
            }, 3000);
        };

        // Função de backoff exponencial para retentar chamadas de API
        const fetchWithRetry = async (url, options, retries = 3, delay = 1000) => {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) {
                        return await response.json();
                    } else if (response.status === 429 && i < retries - 1) { // Too Many Requests
                        console.warn(`Tentativa ${i + 1} falhou. Retentando em ${delay}ms...`);
                        await new Promise(res => setTimeout(res, delay));
                        delay *= 2; // Atraso exponencial
                    } else {
                        throw new Error(`Erro na API: ${response.statusText}`);
                    }
                } catch (error) {
                    if (i < retries - 1) {
                        console.warn(`Tentativa ${i + 1} falhou. Retentando em ${delay}ms...`);
                        await new new Promise(res => setTimeout(res, delay));
                        delay *= 2;
                    } else {
                        throw error;
                    }
                }
            }
            throw new Error("Não foi possível conectar à API após várias tentativas.");
        };

        // Lógica do modal de vídeo
        projectCards.forEach(card => {
            card.addEventListener('click', async () => {
                const videoUrl = card.dataset.videoUrl;
                const videoTitle = card.dataset.title;
                const videoKeywords = card.dataset.keywords;
                const videoDescription = card.dataset.description;

                modalVideoTitle.textContent = videoTitle;
                modalVideoFrame.src = videoUrl;
                videoModal.classList.remove('hidden');

                if (videoDescription) {
                    modalVideoDescription.textContent = videoDescription;
                } else {
                    modalVideoDescription.textContent = 'Gerando descrição do projeto...';
                    try {
                        const prompt = `Gere uma descrição profissional para o projeto de vídeo "${videoTitle}". O vídeo foi feito com base nas seguintes palavras-chave: ${videoKeywords}. O texto deve ter um tom profissional, destacar os pontos fortes da edição e ter no máximo 50 palavras, em português.`;
                        const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                        const payload = { contents: chatHistory };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                        const result = await fetchWithRetry(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        
                        const text = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                        if (text) {
                            modalVideoDescription.textContent = text;
                        } else {
                            modalVideoDescription.textContent = "Não foi possível gerar a descrição. Clique para tentar novamente.";
                        }
                    } catch (error) {
                        console.error("Erro ao gerar a descrição do projeto:", error);
                        modalVideoDescription.textContent = "Ocorreu um erro ao gerar a descrição. Por favor, recarregue a página.";
                    }
                }
            });
        });

        closeModalBtn.addEventListener('click', () => {
            modalVideoFrame.src = ""; // Para o vídeo
            videoModal.classList.add('hidden');
        });
    </script>
</body>
</html>
